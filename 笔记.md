## Recitation 4

讲了一些GDB常用操作，虽然不少已经在 CS61C 里面学过了，但是保险起见还是在这里再记录一下

几个不熟悉的

```gdb
clear main // remove the breakpoint at function main
(gdb) print (char*) [0x...] // prints a string
(gdb) print argv[1]
(gdb) disassemble main // show the assembly instructions in main
```

```
print/x $rsi   // ‘/x’ means print in hexadecimal
```

要查看传入被调用函数的参数是什么，最好的办法就是直接看对应函数的汇编代码，

- 一般来说，`$rdi` 保存第一个参数，`$rsi`保存第二个，`$rax`保存返回值

  

一个小技巧: 按 Enter 键就可以重复上一次操作

-  `info breakpoints (i b)`
  - List all breakpoints, along with whether or not they are enabled
- `delete [breakpoint] (d)`
  - Delete a breakpoint
-  `enable [breakpoint] (en)`  
  - Enable a breakpoint, If none specified, enables all breakpoints
-  `disable [breakpoint] (dis)`
  - Disable a breakpoint. If none specified, disables all breakpoints
- ` info registers (i reg)`
  - Print all the registers, along with their contents
-  `print [any valid C expression] (p)`
  - Can be used to study any kind of local variable or memory location
  - Use casting to get the right type (e.g. `print *(long *)pointer`)
  -  Can format with things like `/x` (hex), `/d` (int), `/s` (string) etc.
-  `x [some format specifier] [some memory address]`
  - Examines memory. `x ptr` is the same as `p *ptr`
  -  Can format with things like /x (hex), /d (int), /s (string) etc.
-  `layout [next | prev | assembly | register] (la [n | p | asm | reg])`
  - Show assembly code or registers in the top half of the window as you go
  -  The TUI is buggy. If your screen begins glitching, you may have to restart GDB
  -  Exit with `<ctrl> x + <ctrl> a`
-  `focus [command | assembly | register] (fo [cmd | asm | reg])`
  - Change the focus window within the TUI (buggy)

## Bomblab

